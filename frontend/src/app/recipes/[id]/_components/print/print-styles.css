/**
 * Print-specific styles for recipe printout.
 * Converts web layout to printer-friendly format.
 */

@media print {
  /* Page setup */
  @page {
    margin: 0.5in;
    size: letter;
  }

  /* Base styles */
  body {
    background: white !important;
    color: black !important;
    font-size: 11pt !important;
    line-height: 1.4 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* Hide interactive/web-only elements */
  .print\:hidden {
    display: none !important;
  }

  /* Show print-only elements */
  .hidden.print\:block {
    display: block !important;
  }

  /* Reset positioning */
  .print\:static {
    position: static !important;
  }

  /* Remove shadows */
  .print\:shadow-none {
    box-shadow: none !important;
  }

  /* Border utilities */
  .print\:border-0 {
    border: none !important;
  }

  .print\:border {
    border-width: 1px !important;
  }

  .print\:border-gray-200 {
    border-color: #e5e7eb !important;
  }

  .print\:border-gray-300 {
    border-color: #d1d5db !important;
  }

  /* Background colors */
  .print\:bg-white {
    background: white !important;
  }

  .print\:bg-gray-50 {
    background: #f9fafb !important;
  }

  /* Text colors */
  .print\:text-black {
    color: black !important;
  }

  /* Typography */
  .print\:text-lg {
    font-size: 1.125rem !important;
  }

  .print\:text-base {
    font-size: 1rem !important;
  }

  .print\:text-sm {
    font-size: 0.875rem !important;
  }

  /* Spacing */
  .print\:mt-0 {
    margin-top: 0 !important;
  }

  .print\:mt-4 {
    margin-top: 1rem !important;
  }

  .print\:mb-1 {
    margin-bottom: 0.25rem !important;
  }

  .print\:mb-2 {
    margin-bottom: 0.5rem !important;
  }

  .print\:p-4 {
    padding: 1rem !important;
  }

  .print\:space-y-6 > * + * {
    margin-top: 1.5rem !important;
  }

  .print\:gap-0 {
    gap: 0 !important;
  }

  .print\:gap-2 {
    gap: 0.5rem !important;
  }

  /* Width */
  .print\:w-full {
    width: 100% !important;
  }

  /* Height - reset min-height to allow natural sizing */
  .print\:min-h-0 {
    min-height: 0 !important;
  }

  /* Layout */
  .print\:block {
    display: block !important;
  }

  /* Page break controls */
  h2, h3 {
    page-break-after: avoid;
    break-after: avoid;
  }

  /* Force ALL elements in print layout to allow page breaks */
  /* This overrides any browser defaults that might keep content together */
  .hidden.print\:block,
  .hidden.print\:block *,
  .print-recipe-content,
  .print-recipe-content *,
  .flex,
  .flex > * {
    page-break-inside: auto !important;
    break-inside: auto !important;
    page-break-before: auto !important;
    break-before: auto !important;
  }

  /* Convert two-column flex layout to float-based layout for reliable print pagination */
  /* Target specifically the gap-6 flex container (two-column layout), not the header */
  .print-recipe-content > .flex.gap-6 {
    display: block !important;
  }

  .print-recipe-content > .flex.gap-6 > .w-1\/3 {
    float: left !important;
    width: 32% !important;
    margin-right: 2% !important;
  }

  .print-recipe-content > .flex.gap-6 > .w-2\/3 {
    float: left !important;
    width: 66% !important;
  }

  /* Clear floats after the two-column section */
  .print-recipe-content > .flex.gap-6::after {
    content: "" !important;
    display: table !important;
    clear: both !important;
  }

  /* Prevent blank trailing pages */
  html, body {
    height: auto !important;
    min-height: 0 !important;
    overflow: visible !important;
  }

  /* Ensure print layout doesn't create extra space */
  .hidden.print\:block {
    height: auto !important;
    min-height: 0 !important;
    overflow: visible !important;
  }

  /* Nuclear option: hide ALL fixed positioned elements except print content */
  /* This catches any dialogs, overlays, nav elements, or embeds that might cause blank pages */
  *[style*="position: fixed"],
  *[style*="position:fixed"],
  [data-radix-portal],
  embed,
  iframe:not([src]) {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    width: 0 !important;
    position: static !important;
  }

  /* Links */
  a {
    text-decoration: none !important;
    color: black !important;
  }
}
